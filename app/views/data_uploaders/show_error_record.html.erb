<h2>Error Records</h2>
<table class="table table-striped table-bordered custom_table table-hover table-highlight">
  <thead>    
    <tr>
      <% if @is_schema_error then %>
        <th style="width: 100px">Data Source</th>
        <th>Error Message</th>
      <% else %>
        <th style="width: 100px">Data Source</th>
        <th style="width: 20px">Error Row Number</th>
        <th>Error Message</th>
        <th>Error Record</th>
      <% end %>      
    </tr>
  </thead>
  <tbody>
    <% if @is_schema_error then %>
        <% if @result.size > 0 then %>
          <% @result.each do |record| %>
              <tr>
                <td><%= record[:table_name] %></td>
                <td><%= record[:error_message] %></td>
              </tr>
          <% end %>
      <% end %>
    <% else %>
      <% if @result.size > 0 then %>
          <% @result.each do |record| %>
              <tr>
                <td><%= record[:table_name] %></td>
                <td><%= record[:row_id] %></td>
                <td><%= record[:error_message] %></td>
                <td><%= record[:error_record] %></td>
              </tr>
          <% end %>
      <% end %>
    <% end %>    
  </tbody>
</table>
<%= javascript_include_tag('datauploaders.js') %>
